<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Ocular Engine: Ocular::Core::Profiler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ocular Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_ocular_1_1_core_1_1_profiler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_ocular_1_1_core_1_1_profiler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ocular::Core::Profiler Class Reference<div class="ingroups"><a class="el" href="group___ocular.html">Ocular</a> &raquo; <a class="el" href="group___core.html">Core</a> &#124; <a class="el" href="group___ocular.html">Ocular</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_profiler_8hpp_source.html">Profiler.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a78d981b3b23d6051d5a1ef3b5ec2da37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ocular_1_1_core_1_1_profiler.html#a78d981b3b23d6051d5a1ef3b5ec2da37">beginBlock</a> (std::string const &amp;name, std::string const &amp;segment)</td></tr>
<tr class="separator:a78d981b3b23d6051d5a1ef3b5ec2da37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f4053fa4ed678f92cf6c7059208374"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ocular_1_1_core_1_1_profiler.html#a29f4053fa4ed678f92cf6c7059208374">endBlock</a> ()</td></tr>
<tr class="separator:a29f4053fa4ed678f92cf6c7059208374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0d3447ac4a3b7140e428c2eb06d4d8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ocular_1_1_core_1_1_profiler.html#ac0d3447ac4a3b7140e428c2eb06d4d8d">printToConsole</a> (bool prettify=true) const </td></tr>
<tr class="separator:ac0d3447ac4a3b7140e428c2eb06d4d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb4cc684e803b89a877b381a55e35f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ocular_1_1_core_1_1_profiler.html#abbb4cc684e803b89a877b381a55e35f9">printToTXT</a> (std::string const &amp;path) const </td></tr>
<tr class="separator:abbb4cc684e803b89a877b381a55e35f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf733aece0c0120affbffde54e8a564"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ocular_1_1_core_1_1_profiler.html#a8cf733aece0c0120affbffde54e8a564">printToHTML</a> (std::string const &amp;path) const </td></tr>
<tr class="separator:a8cf733aece0c0120affbffde54e8a564"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a29693714f78078272a4bbe693f032e02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29693714f78078272a4bbe693f032e02"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> ()</td></tr>
<tr class="separator:a29693714f78078272a4bbe693f032e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af286fcca8358b5afe43d7a58639f0667"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af286fcca8358b5afe43d7a58639f0667"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroyNode</b> (<a class="el" href="class_ocular_1_1_core_1_1_profiler_node.html">ProfilerNode</a> *node) const </td></tr>
<tr class="separator:af286fcca8358b5afe43d7a58639f0667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe9dfb6ff6e07b7066dd49770713ab8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabe9dfb6ff6e07b7066dd49770713ab8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>createLogBuffer</b> (std::stringstream &amp;stream, bool prettify) const </td></tr>
<tr class="separator:aabe9dfb6ff6e07b7066dd49770713ab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372039739ad31a4de409776828fdc113"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a372039739ad31a4de409776828fdc113"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>createLogForNode</b> (<a class="el" href="class_ocular_1_1_core_1_1_profiler_node.html">ProfilerNode</a> *node, std::stringstream &amp;stream, bool prettify) const </td></tr>
<tr class="separator:a372039739ad31a4de409776828fdc113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e2d296145a0a581c1279d4fa2a4328"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ocular_1_1_core_1_1_profiler.html#a24e2d296145a0a581c1279d4fa2a4328">prettifyName</a> (std::string const &amp;name) const </td></tr>
<tr class="separator:a24e2d296145a0a581c1279d4fa2a4328"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A simple CPU performance profiler. Records the amount of time it takes to execute a given segment of code. The profiler may be invoked directly, or the PROFILE family of macros can be used instead.</p>
<p>Performance readings are done in a series of nested blocks, and the results can either be queried at runtime or saved to an external log.</p>
<p>In order for profiling to occur, the OCULAR_PROFILE flag must be enabled. By default, all debug builds of the <a class="el" href="namespace_ocular.html" title="Note: Once this library is made dynamic, this will no longer be needed. ">Ocular</a> <a class="el" href="class_ocular_1_1_engine.html">Engine</a> have this flag enabled.</p>
<p>It should be noted that while the act of profiling may cause a slowdown in program performance, the recording results of the profiling are of the true execution time of the code segment. So, deeply nested instances of profiling will not affect the performance readings.</p>
<p>There are two different types of profiling: per scope or per designated block. These can be seen in the following example: </p><pre class="fragment">void ParentMethod()
{
    PROFILE()
    ChildMethod();
}

void ChildMethod()
{
    PROFILE()

    // ...

    SubchildMethod();
}

void SubchildMethod()
{
    PROFILE_START("Segment A")

    // ...

    PROFILE_END()
    PROFILE_START("Segment B")

    // ...

    PROFILE_END()
}
</pre><p>Which results in the following output (when printed to console or as plain-text): </p><pre class="fragment">- ParentMethod [1] [100.0ms] [100.0ms]
  - ChildMethod [1] [100.0ms] [100.0ms]
    - SubchildMethod "Segment A" [1] [50.0ms] [50.0ms]
    - SubchildMethod "Segment B" [1] [50.0ms] [50.0ms]
</pre><p>The output lines are formatted as follows: </p><pre class="fragment">Name Segment Calls Elapsed Average 
</pre><p>Where, </p><pre class="fragment">     Name: Name of the profiled function/method
  Segment: Name of the block segment (optional)
    Calls: Total amount of times this segment of code had been called
  Elapsed: Total amount of elapsed time spent in the code segment
  Average: Average amount of time spent executing the code segment</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a78d981b3b23d6051d5a1ef3b5ec2da37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ocular::Core::Profiler::beginBlock </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>segment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Begins a new block of code to profile.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of the code block. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">segment</td><td>Optional segment name if part of a larger block of profiled code. Use this if, for example, you are profiling multiple individual segments of a single function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a29f4053fa4ed678f92cf6c7059208374"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ocular::Core::Profiler::endBlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ends the current profile block. </p>

</div>
</div>
<a class="anchor" id="a24e2d296145a0a581c1279d4fa2a4328"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Ocular::Core::Profiler::prettifyName </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Regex to search for match inbetween (but not including) ' ' and '(' Breaking the regex down as I will most likely forget what is happening: </p><pre class="fragment">      \b : Selection starts on a word boundary
([^\s])+ : Selection contains 1 or more non-space characters
 ?(?=\() : Selection ends with a '(' but does not include it (using lookahead)
</pre>
</div>
</div>
<a class="anchor" id="ac0d3447ac4a3b7140e428c2eb06d4d8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ocular::Core::Profiler::printToConsole </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>prettify</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints the current profiler data to the console (standard out).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">prettify</td><td>If TRUE, function signatures are trimmed to just their names (namespace::class:method). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8cf733aece0c0120affbffde54e8a564"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ocular::Core::Profiler::printToHTML </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints the current profiler data as a pre-formatted HTML/JS tree table to the specified location.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td><a class="el" href="class_ocular_1_1_core_1_1_file.html">File</a> path to output the data to (expects a .html) </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd><a class="el" href="class_ocular_1_1_core_1_1_profiler.html">Profiler</a> output to HTML </dd></dl>

</div>
</div>
<a class="anchor" id="abbb4cc684e803b89a877b381a55e35f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ocular::Core::Profiler::printToTXT </td>
          <td>(</td>
          <td class="paramtype">std::string const &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints the current profiler data to the specified .txt file. Output is formatted in the same manner as the prettified console output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td><a class="el" href="class_ocular_1_1_core_1_1_file.html">File</a> path to output the data to (expects a .txt) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Projects/OcularEngine/OcularCore/include/Performance/<a class="el" href="_profiler_8hpp_source.html">Profiler.hpp</a></li>
<li>C:/Projects/OcularEngine/OcularCore/src/Performance/Profiler.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_ocular.html">Ocular</a></li><li class="navelem"><b>Core</b></li><li class="navelem"><a class="el" href="class_ocular_1_1_core_1_1_profiler.html">Profiler</a></li>
    <li class="footer">Generated on Tue Oct 18 2016 01:28:57 for Ocular Engine by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
